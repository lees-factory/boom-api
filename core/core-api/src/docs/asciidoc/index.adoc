= Boom API Documentation
:doctype: book
:icons: font
:source-highlighter: highlightjs
:toc: left
:toclevels: 3
:sectlinks:
:snippets: build/generated-snippets

== 소개 (Introduce)
Boom API 문서입니다.

== Member API

=== 소셜 로그인 (Social Login)
소셜 계정으로 로그인하거나 회원가입을 진행합니다.

==== HTTP Request
include::{snippets}/member-login/http-request.adoc[]

==== Request Fields
include::{snippets}/member-login/request-fields.adoc[]

==== HTTP Response
include::{snippets}/member-login/http-response.adoc[]

==== Response Fields
include::{snippets}/member-login/response-fields.adoc[]

'''

=== 토큰 갱신 (Token Refresh)
Refresh Token을 사용하여 새로운 Access Token과 Refresh Token을 발급받습니다. +
자동 로그인 시 사용합니다. (Refresh Token Rotation 적용)

==== HTTP Request
include::{snippets}/member-refresh/http-request.adoc[]

==== Request Fields
include::{snippets}/member-refresh/request-fields.adoc[]

==== HTTP Response
include::{snippets}/member-refresh/http-response.adoc[]

==== Response Fields
include::{snippets}/member-refresh/response-fields.adoc[]

== Crew API

=== 크루 생성 (Create Crew)
크루를 생성합니다.

==== HTTP Request
include::{snippets}/createCrew/http-request.adoc[]

==== Request Headers
include::{snippets}/createCrew/request-headers.adoc[]

==== Request Fields
include::{snippets}/createCrew/request-fields.adoc[]

==== HTTP Response
include::{snippets}/createCrew/http-response.adoc[]

==== Response Fields
include::{snippets}/createCrew/response-fields.adoc[]

'''

=== 크루 가입 (Join Crew)
특정 크루에 가입합니다.

==== HTTP Request
include::{snippets}/joinCrew/http-request.adoc[]

==== Request Headers
include::{snippets}/joinCrew/request-headers.adoc[]

==== Path Parameters
include::{snippets}/joinCrew/path-parameters.adoc[]

==== HTTP Response
include::{snippets}/joinCrew/http-response.adoc[]

==== Response Fields
include::{snippets}/joinCrew/response-fields.adoc[]

== Gym API

=== 암장 리스트 조회 (Get Gyms On Map)
지도 뷰포트(좌표 범위) 내의 암장 리스트를 조회합니다.

==== HTTP Request
include::{snippets}/getGymsOnMap/http-request.adoc[]

==== Request Headers
include::{snippets}/getGymsOnMap/request-headers.adoc[]

==== Query Parameters
include::{snippets}/getGymsOnMap/query-parameters.adoc[]

==== HTTP Response
include::{snippets}/getGymsOnMap/http-response.adoc[]

==== Response Fields
include::{snippets}/getGymsOnMap/response-fields.adoc[]

=== 반경 기반 암장 검색 - 지도용 (Search Gyms By Radius - Map)
특정 위치를 기준으로 반경 N km 이내의 암장을 검색합니다. +
지도에 마커로 표시할 때 사용하며, 전체 결과를 반환합니다. +
(내부적으로 해당 반경을 포함하는 사각형 영역을 계산하여 조회합니다.)

==== HTTP Request
include::{snippets}/getGymsByRadius/http-request.adoc[]

==== Request Headers
include::{snippets}/getGymsByRadius/request-headers.adoc[]

==== Query Parameters
include::{snippets}/getGymsByRadius/query-parameters.adoc[]

==== HTTP Response
include::{snippets}/getGymsByRadius/http-response.adoc[]

==== Response Fields
include::{snippets}/getGymsByRadius/response-fields.adoc[]

'''

=== 반경 기반 암장 목록 - 리스트용 (Search Gyms By Radius - List)
특정 위치를 기준으로 반경 N km 이내의 암장 목록을 조회합니다. +
무한스크롤(Infinite Scroll) 방식의 페이징을 지원합니다.

NOTE: `hasNext`가 `true`이면 다음 페이지가 존재합니다. `page`를 1 증가시켜 다음 데이터를 요청하세요.

==== HTTP Request
include::{snippets}/getGymsByRadiusList/http-request.adoc[]

==== Request Headers
include::{snippets}/getGymsByRadiusList/request-headers.adoc[]

==== Query Parameters
include::{snippets}/getGymsByRadiusList/query-parameters.adoc[]

==== HTTP Response
include::{snippets}/getGymsByRadiusList/http-response.adoc[]

==== Response Fields
include::{snippets}/getGymsByRadiusList/response-fields.adoc[]

'''

=== 현재 입장중인 암장 조회 (Get Current Visit)
현재 로그인한 유저가 입장중인 암장 정보를 조회합니다. +
입장중인 암장이 없으면 `data`가 `null`로 반환됩니다.

==== HTTP Request
include::{snippets}/getCurrentVisit/http-request.adoc[]

==== Request Headers
include::{snippets}/getCurrentVisit/request-headers.adoc[]

==== HTTP Response
include::{snippets}/getCurrentVisit/http-response.adoc[]

==== Response Fields
include::{snippets}/getCurrentVisit/response-fields.adoc[]

'''

=== 암장 입장 (Enter Gym)
특정 암장에 입장 처리합니다.

==== HTTP Request
include::{snippets}/enterGym/http-request.adoc[]

==== Request Headers
include::{snippets}/enterGym/request-headers.adoc[]

==== Path Parameters
include::{snippets}/enterGym/path-parameters.adoc[]

==== HTTP Response
include::{snippets}/enterGym/http-response.adoc[]

==== Response Fields
include::{snippets}/enterGym/response-fields.adoc[]

'''

=== 암장 퇴장 (Exit Gym)
특정 암장에서 퇴장 처리합니다.

==== HTTP Request
include::{snippets}/exitGym/http-request.adoc[]

==== Request Headers
include::{snippets}/exitGym/request-headers.adoc[]

==== Path Parameters
include::{snippets}/exitGym/path-parameters.adoc[]

==== HTTP Response
include::{snippets}/exitGym/http-response.adoc[]

==== Response Fields
include::{snippets}/exitGym/response-fields.adoc[]

'''

=== 방문 연장 (Extend Visit)
암장 방문 시간을 연장합니다. +
기본적으로 입장 후 3시간이 지나면 자동 퇴장 처리됩니다. +
만료 10분 전 알림을 받은 사용자가 연장 버튼을 누르면 3시간이 추가됩니다.

==== HTTP Request
include::{snippets}/extendVisit/http-request.adoc[]

==== Request Headers
include::{snippets}/extendVisit/request-headers.adoc[]

==== Path Parameters
include::{snippets}/extendVisit/path-parameters.adoc[]

==== HTTP Response
include::{snippets}/extendVisit/http-response.adoc[]

==== Response Fields
include::{snippets}/extendVisit/response-fields.adoc[]

'''

=== 암장 입장 유저 목록 조회 (Get Gym Visitors)
특정 암장에 현재 입장 중인 유저 목록을 조회합니다. +
퇴장한 유저는 목록에 포함되지 않습니다. +
무한스크롤(Infinite Scroll) 방식의 페이징을 지원합니다.

NOTE: `hasNext`가 `true`이면 다음 페이지가 존재합니다. `page`를 1 증가시켜 다음 데이터를 요청하세요.

==== HTTP Request
include::{snippets}/getGymVisitors/http-request.adoc[]

==== Request Headers
include::{snippets}/getGymVisitors/request-headers.adoc[]

==== Path Parameters
include::{snippets}/getGymVisitors/path-parameters.adoc[]

==== Query Parameters
include::{snippets}/getGymVisitors/query-parameters.adoc[]

==== HTTP Response
include::{snippets}/getGymVisitors/http-response.adoc[]

==== Response Fields
include::{snippets}/getGymVisitors/response-fields.adoc[]
